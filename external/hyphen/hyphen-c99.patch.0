--- hyphen.c
+++ hyphen.c
@@ -382,8 +382,9 @@
     if (strncmp(path, WIN32_LONG_PATH_PREFIX, 4) == 0) {
         int len = MultiByteToWideChar(CP_UTF8, 0, path, -1, NULL, 0);
         wchar_t *buff = (wchar_t *) malloc(len * sizeof(wchar_t));
+        FILE * f;
         MultiByteToWideChar(CP_UTF8, 0, path, -1, buff, len);
-        FILE * f = _wfopen(buff, (strcmp(mode, "r") == 0) ? L"r" : L"rb");
+        f = _wfopen(buff, (strcmp(mode, "r") == 0) ? L"r" : L"rb");
         free(buff);
         return f;
     }
