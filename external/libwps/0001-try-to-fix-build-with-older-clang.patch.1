From 01d2ef67b9076fd82ecc6937bdbb306b489fd29e Mon Sep 17 00:00:00 2001
From: David Tardon <dtardon@redhat.com>
Date: Mon, 17 Jul 2017 14:34:12 +0200
Subject: [PATCH] try to fix build with older clang

---
 src/lib/libwps_internal.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/lib/libwps_internal.h b/src/lib/libwps_internal.h
index 8e91806..8a5fccc 100644
--- a/src/lib/libwps_internal.h
+++ b/src/lib/libwps_internal.h
@@ -85,8 +85,8 @@ struct WPS_shared_ptr_noop_deleter
 
 /** fall through attributes */
 #define WPS_FALLTHROUGH
-#if defined(__clang__)
-#  if defined(__has_cpp_attribute) && __has_cpp_attribute(clang::fallthrough)
+#if defined(__clang__) && defined(__has_cpp_attribute)
+#  if __has_cpp_attribute(clang::fallthrough)
 #    undef WPS_FALLTHROUGH
 #    define WPS_FALLTHROUGH [[clang::fallthrough]]
 #  endif
-- 
2.13.0

