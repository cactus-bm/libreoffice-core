--- libgltf/configure.ac.orig	2014-06-25 16:47:24.218866607 +0200
+++ libgltf/configure.ac	2014-06-25 16:50:59.600868237 +0200
@@ -36,16 +36,22 @@
 # =========
 # Find boost
 # =========
-AC_CHECK_HEADER(boost/property_tree/json_parser.hpp, [BOOST_CFLAGS=],
+save_CPPFLAGS=$CPPFLAGS
+CPPFLAGS="$CPPFLAGS $BOOST_CFLAGS"
+AC_CHECK_HEADER(boost/property_tree/json_parser.hpp, [],
  [AC_MSG_ERROR(boost/property_tree/json_parser.hpp not found. install boost)], [])
+CPPFLAGS=$save_CPPFLAGS
 AC_SUBST([BOOST_CFLAGS])
 
 # =========
 # Find glew
 # =========
 PKG_CHECK_MODULES(GLEW, [glew >= 1.9.0], [] [
- AC_CHECK_HEADER(GL/glew.h, [GLEW_CFLAGS=],
+ save_CPPFLAGS=$CPPFLAGS
+ CPPFLAGS="$CPPFLAGS $GLEW_CFLAGS"
+ AC_CHECK_HEADER(GL/glew.h, [],
  [AC_MSG_ERROR(GL/glew.h not found. install glew)], [])
+ CPPFLAGS=$save_CPPFLAGS
 ])
 AC_SUBST([GLEW_CFLAGS])
 AC_SUBST([GLEW_LIBS])
@@ -54,8 +60,11 @@
 # Find glm
 # =========
 AC_LANG_PUSH([C++])
-AC_CHECK_HEADER([glm/glm.hpp], [GLM_CFLAGS=],
+save_CPPFLAGS=$CPPFLAGS
+CPPFLAGS="$CPPFLAGS $GLM_CFLAGS"
+AC_CHECK_HEADER([glm/glm.hpp], [],
  [AC_MSG_ERROR([glm/glm.hpp not found. install glm])], [])
+CPPFLAGS=$save_CPPFLAGS
 AC_LANG_POP([C++])
 AC_SUBST([GLM_CFLAGS])
 
