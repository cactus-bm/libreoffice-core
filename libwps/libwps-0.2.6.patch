--- misc/libwps-0.2.6/src/lib/WPS4.cpp	2012-05-13 23:10:44.000000000 +0200
+++ misc/build/libwps-0.2.6/src/lib/WPS4.cpp	2012-05-14 08:44:20.720435146 +0200
@@ -827,9 +827,9 @@
 	{
 		std::bitset<8> b(s[i]);
 		r.append(b.to_string());
-		char buf[20];
-		sprintf(buf, "(%02u,0x%02x)  ", (uint8_t)s[i],(uint8_t)s[i]);
-		r.append(buf);
+		WPXString buf;
+		buf.sprintf("(%02u,0x%02x)  ", (uint8_t)s[i],(uint8_t)s[i]);
+		r.append(buf.cstr());
 	}
 	return r;
 }
--- misc/libwps-0.2.6/src/lib/libwps_internal.h	2012-05-13 23:10:44.000000000 +0200
+++ misc/build/libwps-0.2.6/src/lib/libwps_internal.h	2012-05-14 08:43:38.321547822 +0200
@@ -25,6 +25,9 @@
 #include <libwpd-stream/libwpd-stream.h>
 #include <libwpd/libwpd.h>
 #include <string>
+#ifdef DEBUG
+#include <stdio.h>
+#endif
 
 #if defined(_MSC_VER) || defined(__DJGPP__)
 typedef signed char int8_t;
