--- misc/libcdr-0.0.3/src/lib/libcdr_utils.h
+++ misc/build/libcdr-0.0.3/src/lib/libcdr_utils.h
@@ -41,17 +41,8 @@
 
 #else
 
-#ifdef HAVE_CONFIG_H
-#include <config.h>
-#endif
-
-#ifdef HAVE_STDINT_H
 #include <stdint.h>
-#endif
-
-#ifdef HAVE_INTTYPES_H
 #include <inttypes.h>
-#endif
 
 #endif
 
--- misc/libcdr-0.0.3/src/lib/makefile.mk
+++ misc/build/libcdr-0.0.3/src/lib/makefile.mk
@@ -28,6 +28,10 @@
 INCPRE+=$(SOLARVER)$/$(INPATH)$/inc$/libwpg
 .ENDIF
 
+.IF "$(SYSTEM_ZLIB)" != "YES"
+INCPRE+=-I$(SOLARVER)$/$(INPATH)$/inc$/external/zlib
+.ENDIF
+
 SLOFILES= \
         $(SLO)$/CDRDocument.obj \
 		$(SLO)$/CDRInternalStream.obj \

