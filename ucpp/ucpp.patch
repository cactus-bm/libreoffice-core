--- misc/ucpp/makefile.mk
+++ misc/build/ucpp/makefile.mk
@@ -1 +1,47 @@
-dummy
+#
+# This file is part of the LibreOffice project.
+#
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+#
+# This file incorporates work covered by the following license notice:
+#
+#   Licensed to the Apache Software Foundation (ASF) under one or more
+#   contributor license agreements. See the NOTICE file distributed
+#   with this work for additional information regarding copyright
+#   ownership. The ASF licenses this file to you under the Apache
+#   License, Version 2.0 (the "License"); you may not use this file
+#   except in compliance with the License. You may obtain a copy of
+#   the License at http://www.apache.org/licenses/LICENSE-2.0 .
+#
+PRJ=..$/..$/..$/..
+
+PRJNAME=ucpp
+TARGET=ucpp
+TARGETTYPE=CUI
+LIBTARGET=NO
+NO_DEFAULT_STL=TRUE
+
+EXTERNAL_WARNINGS_NOT_ERRORS := TRUE
+
+# --- Settings -----------------------------------------------------
+.INCLUDE :  settings.mk
+
+UWINAPILIB=
+LIBSALCPPRT=
+
+# --- Files --------------------------------------------------------
+
+CFLAGS+= -DNO_UCPP_BUF -DUCPP_CONFIG -DSTAND_ALONE
+
+APP1TARGET= $(TARGET)
+APP1OBJS=   $(OBJ)$/assert.obj $(OBJ)$/cpp.obj $(OBJ)$/eval.obj $(OBJ)$/hash.obj $(OBJ)$/lexer.obj $(OBJ)$/macro.obj $(OBJ)$/mem.obj $(OBJ)$/nhash.obj
+
+APP1STDLIBS=
+
+
+OBJFILES = $(APP1OBJS)
+
+.INCLUDE :  target.mk
+
--- misc/ucpp/cpp.c
+++ misc/build/ucpp/cpp.c
@@ -2464,7 +2464,7 @@
 			warning(-1, "unknown option '%s'", argv[i]);
 	} else {
 		if (filename != 0) {
-			error(-1, "spurious filename '%s'", argv[i]);
+			error(-1, "spurious duplicate filename '%s' - vs. '%s' ", argv[i], filename);
 			return 2;
 		}
 		filename = argv[i];
